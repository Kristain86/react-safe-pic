{"version":3,"sources":["../../src/style.tsx","../../src/index.tsx","App.tsx","index.tsx"],"names":["PicComponent","styled","props","SafePic","jpgImage","webpImage","filterColor","filterOpacity","blur","errorImage","alt","console","useState","error","setError","image","setImage","srcSet","type","src","onError","String","className","e","App","errorImageAlt","ReactDOM","render","document","getElementById"],"mappings":"wNAUO,I,IAAMA,E,KAAeC,EAAH,Q,EAAA,iU,0BAAA,E,IAUb,mBAAYC,OAAa,QAAUA,EAAV,KAAbA,IAAZ,aACQ,mBAChBA,OAAa,QAAUA,EAAV,KAAbA,IADgB,aAYF,mBACZA,cAAoBA,EAApBA,YADY,iBAEH,mBAAWA,EAAX,iBCrBFC,EAAU,SAAC,G,IACtBC,aACAC,cACAC,gBACAC,kBACAC,SACAC,eACAC,QAGAC,2B,MAE0BC,oBAAS,GAA5BC,OAAOC,O,EACYF,mBAASR,GAA5BW,OAAOC,OAoBd,OANAL,eAEA,GACEA,wBAIA,qBACEL,YAAaA,GAA4B,GACzCC,cAAeA,GAAgC,EAC/CC,KAAMA,GAEN,kCACIK,GACA,kCACE,4BAAQI,OAAQZ,EAAWa,KAAK,eAChC,4BAAQD,OAAQb,EAAUc,KAAK,eAIjCL,EASA,yBAAKM,IAAKJ,EAAOE,OAAQF,EAAOL,IAAKA,EAAKU,QAnCjC,WAEfJ,EAASK,OAATL,OAyBM,yBACEG,IAAKf,EACLa,OAAQb,EACRM,IAAKA,EACLY,UAAU,QACVF,QAAS,mBAtCH,SAACG,GACfZ,YAAYY,EAAZZ,QAEAG,MAmCwBM,CAAP,SC/BNI,G,MA/BH,WACV,OACE,oCACE,kBAAC,EAAD,CACEpB,SAAU,6CACVC,UAAW,8CACXI,WAAY,+BACZC,IAAK,kBACLe,cAAe,sBAEfnB,YACE,mGAEFC,cAAe,KAGjB,kBAAC,EAAD,CACEH,SAAU,6CACVC,UAAW,8CACXI,WAAY,+BACZC,IAAK,iBACLe,cAAe,mCCpBvBC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.e916969d.chunk.js","sourcesContent":["import styled from 'styled-components'\n\n/**\n * #0081a7\n * #00afb9\n * #fdfcdc\n * #fed9b7\n * #f07167\n */\n\nexport const PicComponent = styled.div<{\n  filterColor?: string\n  filterOpacity?: number\n  blur?: string\n}>`\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n  font-size: 0;\n\n  filter: ${(props) => (props.blur ? 'blur(' + props.blur + ')' : 'blur(0)')} ;\n  -webkit-filter: ${(props) =>\n    props.blur ? 'blur(' + props.blur + ')' : 'blur(0)'} ;\n  \n\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    background: ${(props) =>\n      props.filterColor ? props.filterColor : 'transparent'};\n    opacity: ${(props) => props.filterOpacity};\n\n    \n  }\n`\n","import React, { useState, Fragment } from 'react'\nimport { PicComponent } from './style'\n\ninterface Props {\n  jpgImage: string\n  webpImage: string\n  filterColor?: string\n  filterOpacity?: number\n  blur?: string\n  errorImage?: string\n  alt?: string\n  errorImageAlt?: string\n}\n\nexport const SafePic = ({\n  jpgImage,\n  webpImage,\n  filterColor,\n  filterOpacity,\n  blur,\n  errorImage,\n  alt\n}: /*   errorImageAlt */\nProps) => {\n  console.log('no', webpImage, 'no', jpgImage)\n\n  const [error, setError] = useState(false)\n  const [image, setImage] = useState(jpgImage)\n\n  const onError = (e: React.SyntheticEvent<HTMLImageElement, Event>) => {\n    console.log(e.target)\n\n    setError(true)\n  }\n\n  const onError2 = () => {\n\n    setImage(String(errorImage))\n    \n  }\n\n  console.log(error)\n\n  if (webpImage) {\n    console.log('ifff', webpImage, errorImage)\n  }\n\n  return (\n    <PicComponent\n      filterColor={filterColor ? filterColor : ''}\n      filterOpacity={filterOpacity ? filterOpacity : 1}\n      blur={blur}\n    >\n      <picture>\n        {!error && (\n          <Fragment>\n            <source srcSet={webpImage} type='image/webp' />\n            <source srcSet={jpgImage} type='image/jpg' />\n          </Fragment>\n        )}\n\n        {!error ? (\n          <img\n            src={jpgImage}\n            srcSet={jpgImage}\n            alt={alt}\n            className='googd'\n            onError={(e) => onError(e)}\n          />\n        ) : (\n          <img src={image} srcSet={image} alt={alt} onError={onError2} />\n        )}\n      </picture>\n    </PicComponent>\n  )\n}\n","import React from 'react'\n\nimport { SafePic } from 'safe-pic'\nimport 'safe-pic/dist/index.css'\n\nconst App = () => {\n  return (\n    <>\n      <SafePic\n        jpgImage={'https://www.gstatic.com/webp/gallery/1.jpg'}\n        webpImage={'https://www.gstatic.com/webp/gallery/2.webp'}\n        errorImage={'https://placehold.it/404x404'}\n        alt={'this is the way'}\n        errorImageAlt={'this is not the way'}\n        /*  blur={'2px'} */\n        filterColor={\n          'linear-gradient(0deg, rgba(233,233,233,1) 38%, rgba(219,255,141,1) 54%, rgba(51,162,186,1) 100%)'\n        }\n        filterOpacity={0.5}\n      />\n\n      <SafePic\n        jpgImage={'https://www.gstatic.com/webp/gallery/1.jpg'}\n        webpImage={'https://www.gstatic.com/webp/gallery/2.webp'}\n        errorImage={'https://placehold.it/202x202'}\n        alt={'this is my way'}\n        errorImageAlt={'this is not the way, really'}\n        /*  blur={'2px'} */\n\n        /*   filterColor={\"#00afb9\"}\n  filterOpacity={0.5} */\n      />\n    </>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}